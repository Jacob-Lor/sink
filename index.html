<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Your Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .stat-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #333;
        }

        .investment-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }

        .investment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .investment-card {
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
        }

        .investment-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.2);
        }

        .investment-card.debt-card {
            border: 2px solid #ef4444;
            background: linear-gradient(145deg, #fef2f2, #fee2e2);
        }

        .investment-card.debt-card:hover {
            border-color: #dc2626;
            box-shadow: 0 15px 30px rgba(239, 68, 68, 0.2);
        }

        .investment-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .debt-card h4 {
            color: #ef4444;
        }

        .investment-card p {
            margin-bottom: 15px;
            color: #666;
            line-height: 1.5;
        }

        .price-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
        }

        .debt-card .price-info {
            background: rgba(239, 68, 68, 0.1);
        }

        .current-price {
            font-weight: bold;
            color: #333;
        }

        .price-change {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .price-up {
            color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .price-down {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .investment-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .amount-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .amount-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .invest-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .invest-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .invest-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .debt-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .debt-btn:hover {
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
        }

        .portfolio-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }

        .portfolio-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.3s ease;
        }

        .portfolio-item:hover {
            background: #f8f9fa;
        }

        .portfolio-item:last-child {
            border-bottom: none;
        }

        .debt-item {
            background: #fef2f2;
            border: 1px solid #fecaca;
        }

        .controls {
            text-align: center;
            margin-bottom: 30px;
        }

        .next-period-btn {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 15px;
        }

        .next-period-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.3);
        }

        .reset-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.3);
        }

        .news-section {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(251, 191, 36, 0.3);
        }

        .news-section h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .game-over {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        }

        .game-over h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            .investment-options {
                grid-template-columns: 1fr;
            }
            
            .investment-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .amount-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 Build Your Portfolio</h1>
            <p>Make smart investment decisions over 10 periods and watch your money grow!</p>
        </div>

        <div class="game-stats">
            <div class="stat-card">
                <h3>💰 Available Cash</h3>
                <div class="stat-value" id="cash">$5,000</div>
            </div>
            <div class="stat-card">
                <h3>📊 Portfolio Value</h3>
                <div class="stat-value" id="portfolioValue">$0</div>
            </div>
            <div class="stat-card">
                <h3>💎 Total Worth</h3>
                <div class="stat-value" id="totalWorth">$5,000</div>
            </div>
            <div class="stat-card">
                <h3>📅 Period</h3>
                <div class="stat-value" id="period">1 / 10</div>
            </div>
        </div>

        <div class="news-section" id="newsSection">
            <h3>📰 Market News</h3>
            <p id="newsText">Welcome to the investment game! You start with $5,000. Make wise choices!</p>
        </div>

        <div class="investment-section" id="investmentSection">
            <h2>💼 Investment Options</h2>
            <div class="investment-options" id="investmentOptions">
                <!-- Investment cards will be generated here -->
            </div>
        </div>

        <div class="portfolio-section">
            <h2>📋 Your Portfolio</h2>
            <div id="portfolio">
                <p style="text-align: center; color: #666; padding: 20px;">No investments yet. Start building your portfolio!</p>
            </div>
        </div>

        <div class="controls">
            <button class="next-period-btn" id="nextPeriodBtn">⏭️ Next Period</button>
            <button class="reset-btn" id="resetBtn">🔄 Reset Game</button>
        </div>

        <div class="game-over" id="gameOver" style="display: none;">
            <h2>🎉 Game Complete!</h2>
            <div class="final-score" id="finalScore">$0</div>
            <p>You've completed 10 investment periods!</p>
            <button class="reset-btn" onclick="resetGame()" style="margin-top: 20px;">Play Again</button>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            cash: 5000,
            period: 1,
            maxPeriods: 10,
            portfolio: {},
            investments: {
                stocks: { 
                    name: 'Stock Market Index', 
                    price: 100, 
                    basePrice: 100,
                    description: 'Diversified stock market fund with moderate risk and good long-term returns',
                    volatility: 0.15 
                },
                bonds: { 
                    name: 'Government Bonds', 
                    price: 100, 
                    basePrice: 100,
                    description: 'Safe government bonds with steady, low returns',
                    volatility: 0.05 
                },
                creditcard: { 
                    name: 'Credit Card Debt', 
                    price: 8500, 
                    basePrice: 8500,
                    description: 'Pay off high-interest credit card debt (18% APR) - guaranteed return!',
                    volatility: 0.0,
                    isDebt: true,
                    interestRate: 0.18
                },
                payday: { 
                    name: 'Payday Loan Debt', 
                    price: 1200, 
                    basePrice: 1200,
                    description: 'Pay off extremely high-interest payday loans (400% APR) - urgent priority!',
                    volatility: 0.0,
                    isDebt: true,
                    interestRate: 4.0
                },
                autoloan: { 
                    name: 'Auto Loan Debt', 
                    price: 15000, 
                    basePrice: 15000,
                    description: 'Pay off car loan debt (6% APR) - moderate interest rate',
                    volatility: 0.0,
                    isDebt: true,
                    interestRate: 0.06
                },
                mortgage: { 
                    name: 'Mortgage Debt', 
                    price: 45000, 
                    basePrice: 45000,
                    description: 'Pay extra on mortgage (4% APR) - low interest, but guaranteed return',
                    volatility: 0.0,
                    isDebt: true,
                    interestRate: 0.04
                }
            },
            priceHistory: {},
            newsEvents: [
                "Market showing steady growth across all sectors.",
                "Economic indicators suggest continued expansion.",
                "Tech sector experiencing significant growth this period.",
                "Interest rates remain stable, benefiting bond markets.",
                "Financial advisors recommend paying off high-interest debt first.",
                "Credit card interest rates continue to climb nationwide.",
                "Auto loan rates see slight increase due to Federal Reserve policy.",
                "Mortgage rates remain competitive for qualified borrowers.",
                "Consumer debt reaches new highs - experts advise caution.",
                "Payday loan regulations tighten in several states.",
                "Real estate market shows strong fundamentals.",
                "Global markets react to positive economic data.",
                "Debt consolidation services see increased demand.",
                "Financial literacy programs emphasize debt management."
            ]
        };

        // Initialize price history
        Object.keys(gameState.investments).forEach(key => {
            gameState.priceHistory[key] = [gameState.investments[key].price];
        });

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function updatePrices() {
            Object.keys(gameState.investments).forEach(key => {
                const investment = gameState.investments[key];
                if (investment.isDebt) {
                    // Debt grows with interest each period
                    const interestGrowth = investment.interestRate / 2; // Semi-annual compounding
                    investment.price = Math.round(investment.price * (1 + interestGrowth));
                } else {
                    // Regular investments fluctuate with market volatility
                    const change = (Math.random() - 0.5) * 2 * investment.volatility;
                    const newPrice = Math.max(investment.price * (1 + change), 10);
                    investment.price = Math.round(newPrice);
                }
                gameState.priceHistory[key].push(investment.price);
            });
        }

        function calculatePortfolioValue() {
            let totalValue = 0;
            Object.keys(gameState.portfolio).forEach(key => {
                if (gameState.portfolio[key] > 0) {
                    totalValue += gameState.portfolio[key] * gameState.investments[key].price;
                }
            });
            return totalValue;
        }

        function updateDisplay() {
            document.getElementById('cash').textContent = formatCurrency(gameState.cash);
            document.getElementById('period').textContent = `${gameState.period} / ${gameState.maxPeriods}`;
            
            const portfolioValue = calculatePortfolioValue();
            document.getElementById('portfolioValue').textContent = formatCurrency(portfolioValue);
            document.getElementById('totalWorth').textContent = formatCurrency(gameState.cash + portfolioValue);

            // Update investment options
            const investmentOptions = document.getElementById('investmentOptions');
            investmentOptions.innerHTML = '';

            Object.keys(gameState.investments).forEach(key => {
                const investment = gameState.investments[key];
                const priceHistory = gameState.priceHistory[key];
                const priceChange = priceHistory.length > 1 ? 
                    investment.price - priceHistory[priceHistory.length - 2] : 0;
                const priceChangePercent = priceHistory.length > 1 ? 
                    ((priceChange / priceHistory[priceHistory.length - 2]) * 100).toFixed(1) : 0;

                const isDebt = investment.isDebt || false;
                const buttonText = isDebt ? 'Pay Off' : 'Invest';
                const inputPlaceholder = isDebt ? 'Amount to pay off' : 'Amount to invest';

                const card = document.createElement('div');
                card.className = `investment-card ${isDebt ? 'debt-card' : ''}`;
                
                card.innerHTML = `
                    <h4>${isDebt ? '💳 ' : ''}${investment.name}</h4>
                    <p>${investment.description}</p>
                    <div class="price-info">
                        <span class="current-price">${isDebt ? 'Debt Balance: ' : ''}${formatCurrency(investment.price)}</span>
                        <span class="price-change ${priceChange >= 0 ? 'price-up' : 'price-down'}">
                            ${priceChange >= 0 ? '+' : ''}${formatCurrency(priceChange)} (${priceChangePercent}%)
                        </span>
                    </div>
                    <div class="investment-controls">
                        <input type="number" class="amount-input" placeholder="${inputPlaceholder}" min="1" max="${gameState.cash}" id="amount-${key}">
                        <button class="invest-btn ${isDebt ? 'debt-btn' : ''}" onclick="makeInvestment('${key}')" ${gameState.cash <= 0 ? 'disabled' : ''}>
                            ${buttonText}
                        </button>
                    </div>
                `;
                investmentOptions.appendChild(card);
            });

            // Update portfolio display
            const portfolioDiv = document.getElementById('portfolio');
            portfolioDiv.innerHTML = '';

            let hasInvestments = false;
            let hasDebts = false;

            // Show regular investments
            Object.keys(gameState.portfolio).forEach(key => {
                if (gameState.portfolio[key] > 0) {
                    hasInvestments = true;
                    const investment = gameState.investments[key];
                    const value = gameState.portfolio[key] * investment.price;
                    const item = document.createElement('div');
                    item.className = 'portfolio-item';
                    item.innerHTML = `
                        <div>
                            <strong>${investment.name}</strong><br>
                            <small>${gameState.portfolio[key]} shares @ ${formatCurrency(investment.price)}</small>
                        </div>
                        <div style="text-align: right;">
                            <strong>${formatCurrency(value)}</strong>
                        </div>
                    `;
                    portfolioDiv.appendChild(item);
                }
            });

            // Show remaining debts
            Object.keys(gameState.investments).forEach(key => {
                const investment = gameState.investments[key];
                if (investment.isDebt && investment.price > 0) {
                    hasDebts = true;
                    const item = document.createElement('div');
                    item.className = 'portfolio-item debt-item';
                    item.innerHTML = `
                        <div>
                            <strong>💳 ${investment.name}</strong><br>
                            <small>Remaining debt balance (${(investment.interestRate * 100).toFixed(1)}% APR)</small>
                        </div>
                        <div style="text-align: right; color: #ef4444;">
                            <strong>-${formatCurrency(investment.price)}</strong>
                        </div>
                    `;
                    portfolioDiv.appendChild(item);
                }
            });

            if (!hasInvestments && !hasDebts) {
                portfolioDiv.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No investments yet and no debts remaining. Start building your portfolio!</p>';
            } else if (!hasInvestments && hasDebts) {
                portfolioDiv.innerHTML += '<p style="text-align: center; color: #ef4444; padding: 10px; font-weight: bold;">⚠️ Consider paying off high-interest debt before investing!</p>';
            }
        }

        function makeInvestment(investmentKey) {
            const amountInput = document.getElementById(`amount-${investmentKey}`);
            const amount = parseInt(amountInput.value);

            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }

            if (amount > gameState.cash) {
                alert('Insufficient funds!');
                return;
            }

            const investment = gameState.investments[investmentKey];
            
            if (investment.isDebt) {
                // Paying off debt - reduce debt balance
                const debtPayment = Math.min(amount, investment.price);
                investment.price -= debtPayment;
                gameState.cash -= debtPayment;
                
                if (investment.price <= 0) {
                    investment.price = 0;
                    alert(`Congratulations! You've paid off your ${investment.name}!`);
                }
            } else {
                // Regular investment - buy shares
                const shares = Math.floor(amount / investment.price);
                const totalCost = shares * investment.price;

                if (shares === 0) {
                    alert('Investment amount too small to purchase shares');
                    return;
                }

                gameState.cash -= totalCost;
                gameState.portfolio[investmentKey] = (gameState.portfolio[investmentKey] || 0) + shares;
            }

            amountInput.value = '';
            updateDisplay();
        }

        function nextPeriod() {
            if (gameState.period >= gameState.maxPeriods) {
                endGame();
                return;
            }

            gameState.period++;
            gameState.cash += 2000; // Add income each period
            updatePrices();

            // Update news
            const randomNews = gameState.newsEvents[Math.floor(Math.random() * gameState.newsEvents.length)];
            document.getElementById('newsText').textContent = `Period ${gameState.period}: ${randomNews}`;

            updateDisplay();

            if (gameState.period >= gameState.maxPeriods) {
                document.getElementById('nextPeriodBtn').textContent = '🏁 Finish Game';
            }
        }

        function endGame() {
            const finalWorth = gameState.cash + calculatePortfolioValue();
            document.getElementById('finalScore').textContent = formatCurrency(finalWorth);
            document.getElementById('gameOver').style.display = 'block';
            document.getElementById('investmentSection').style.display = 'none';
            document.getElementById('nextPeriodBtn').style.display = 'none';
        }

        function resetGame() {
            gameState = {
                cash: 5000,
                period: 1,
                maxPeriods: 10,
                portfolio: {},
                investments: {
                    stocks: { 
                        name: 'Stock Market Index', 
                        price: 100, 
                        basePrice: 100,
                        description: 'Diversified stock market fund with moderate risk and good long-term returns',
                        volatility: 0.15 
                    },
                    bonds: { 
                        name: 'Government Bonds', 
                        price: 100, 
                        basePrice: 100,
                        description: 'Safe government bonds with steady, low returns',
                        volatility: 0.05 
                    },
                    creditcard: { 
                        name: 'Credit Card Debt', 
                        price: 8500, 
                        basePrice: 8500,
                        description: 'Pay off high-interest credit card debt (18% APR) - guaranteed return!',
                        volatility: 0.0,
                        isDebt: true,
                        interestRate: 0.18
                    },
                    payday: { 
                        name: 'Payday Loan Debt', 
                        price: 1200, 
                        basePrice: 1200,
                        description: 'Pay off extremely high-interest payday loans (400% APR) - urgent priority!',
                        volatility: 0.0,
                        isDebt: true,
                        interestRate: 4.0
                    },
                    autoloan: { 
                        name: 'Auto Loan Debt', 
                        price: 15000, 
                        basePrice: 15000,
                        description: 'Pay off car loan debt (6% APR) - moderate interest rate',
                        volatility: 0.0,
                        isDebt: true,
                        interestRate: 0.06
                    },
                    mortgage: { 
                        name: 'Mortgage Debt', 
                        price: 45000, 
                        basePrice: 45000,
                        description: 'Pay extra on mortgage (4% APR) - low interest, but guaranteed return',
                        volatility: 0.0,
                        isDebt: true,
                        interestRate: 0.04
                    }
                },
                priceHistory: {},
                newsEvents: [
                    "Market showing steady growth across all sectors.",
                    "Economic indicators suggest continued expansion.",
                    "Tech sector experiencing significant growth this period.",
                    "Interest rates remain stable, benefiting bond markets.",
                    "Financial advisors recommend paying off high-interest debt first.",
                    "Credit card interest rates continue to climb nationwide.",
                    "Auto loan rates see slight increase due to Federal Reserve policy.",
                    "Mortgage rates remain competitive for qualified borrowers.",
                    "Consumer debt reaches new highs - experts advise caution.",
                    "Payday loan regulations tighten in several states.",
                    "Real estate market shows strong fundamentals.",
                    "Global markets react to positive economic data.",
                    "Debt consolidation services see increased demand.",
                    "Financial literacy programs emphasize debt management."
                ]
            };

            // Reinitialize price history
            Object.keys(gameState.investments).forEach(key => {
                gameState.priceHistory[key] = [gameState.investments[key].price];
            });

            document.getElementById('gameOver').style.display = 'none';
            document.getElementById('investmentSection').style.display = 'block';
            document.getElementById('nextPeriodBtn').style.display = 'inline-block';
            document.getElementById('nextPeriodBtn').textContent = '⏭️ Next Period';
            document.getElementById('newsText').textContent = 'Welcome to the investment game! You start with $5,000. Make wise choices!';

            updateDisplay();
        }

        // Event listeners
        document.getElementById('nextPeriodBtn').addEventListener('click', nextPeriod);
        document.getElementById('resetBtn').addEventListener('click', resetGame);

        // Initialize game
        updateDisplay();
    </script>
</body>
</html>








